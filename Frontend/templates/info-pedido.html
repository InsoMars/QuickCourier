<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tu Pedido - Quick Courier</title>
  <link rel="stylesheet" href="static/css/info-pedido.css" />
  <link rel="icon" href="static/img/logo.png" />
</head>

<body>
  <!-- ====================================================== -->
  <!-- üîπ HEADER -->
  <!-- ====================================================== -->
  <header class="header">
    <div class="menu-btn">‚ò∞</div>
    <img src="static/img/logo-blanco.png" class="logo-header" />
  </header>

  <!-- ====================================================== -->
  <!-- üîπ MEN√ö LATERAL -->
  <!-- ====================================================== -->
  <nav id="side-menu" class="side-menu">
    <span class="close-btn" id="close-menu">‚úï</span>
    <ul>
      <img src="static/img/logo-blanco.png" class="logo-header" />
    </ul>
    <br />
    <button class="logout-btn" id="logoutBtn">Cerrar sesi√≥n</button>
  </nav>

  <!-- Fondo para cerrar men√∫ si clicas afuera -->
  <div id="overlay" class="overlay"></div>

  <!-- ====================================================== -->
  <!-- üîπ CONTENIDO PRINCIPAL -->
  <!-- ====================================================== -->
  <main class="container">
    <button class="back-general" id="btnVolverResumen">‚Üê Volver al resumen de compra</button>
    <h1>Finaliza tu compra</h1>
    <p class="subtitle">Completa los siguientes pasos para continuar</p>

    <!-- Pasos -->
    <div class="steps-container">
      <div class="step active" id="step1">
        <div class="circle">1</div>
        <div>Identificaci√≥n</div>
      </div>
      <div class="step" id="step2">
        <div class="circle">2</div>
        <div>Env√≠o</div>
      </div>
      <div class="step" id="step3">
        <div class="circle">3</div>
        <div>Pago</div>
      </div>
    </div>

    <!-- ====================================================== -->
    <!-- üîπ SECCI√ìN DE INFORMACI√ìN -->
    <!-- ====================================================== -->
    <div class="order-content">
      <div class="info-section">
        <!-- Paso 1 -->
        <div class="info-box" id="identificacion-section">
          <h2>1. IDENTIFICACI√ìN</h2>

          <!-- üëá Estos IDs son usados por el JS -->
          <p><strong>Correo:</strong> <span id="correoUsuario">Cargando...</span></p>
          <p><strong>Nombre:</strong> <span id="nombreUsuario">Cargando...</span></p>

          <button class="next-btn" id="toEnvio">Siguiente ‚Üí</button>
        </div>

        <!-- Paso 2 -->
        <div class="info-box hidden" id="envio-section">
          <h2>2. ENV√çO</h2>
          <p><strong>Lista de direcciones</strong></p>

          <button class="nueva-direccion" id="btnAgregarDireccion">Agrega una nueva direcci√≥n</button>

          <!-- FORMULARIO OCULTO AL INICIO -->
          <form id="formNuevaDireccion" class="hidden">
            <h3>Nueva direcci√≥n:</h3>

            <div class="formulario-direccion">
              <label for="ciudad">Ciudad:</label>
              <select id="ciudad" name="ciudad" required>
                <option value="">Selecciona una ciudad</option>
                <option value="Bogot√°">Bogot√°</option>
                <option value="Medell√≠n">Medell√≠n</option>
                <option value="Cali">Cali</option>
                <option value="Bucaramanga">Bucaramanga</option>
                <option value="Barranquilla">Barranquilla</option>
              </select>

              <br /><br />

              <label for="direccion">Direcci√≥n:</label>
              <input type="text" id="direccion" name="direccion" placeholder="Ej: Calle 123 #45-67" required />

              <br /><br />

              <label for="info-extra-dir">Informaci√≥n adicional:</label>
              <input type="text" id="info-extra-dir" name="info-extra-dir" placeholder="Barrio, interior, apto..." />

              <br /><br />

              <button type="submit">Guardar nueva direcci√≥n</button>
            </div>
          </form>

          <h3>Personaliza tu env√≠o</h3>
          <!-- üëá Contenedor donde JS inyecta los extras -->
          <div id="extras-container"></div>

          <button id="btnCalcularTarifa">Calcular tarifa</button>

          <button class="back-btn" id="backToIdent">‚Üê Atr√°s</button>
          <button class="next-btn" id="toPago">Siguiente ‚Üí</button>
        </div>

        <!-- Paso 3 -->
        <div class="info-box hidden" id="pago-section">
          <h2>3. PAGO</h2>
          <p>Selecciona tu m√©todo de pago:</p>
          <label><input type="radio" name="pago" value="tarjeta" /> Tarjeta de cr√©dito</label><br />
          <label><input type="radio" name="pago" value="efecty" /> Efecty</label><br />
          <label><input type="radio" name="pago" value="contraentrega" /> Pago Contra Entrega</label><br /><br />
          <button class="back-btn" id="backToEnvio">‚Üê Atr√°s</button>
          <button id="btnPagar">Pagar ahora</button>
        </div>
      </div>

      <!-- ====================================================== -->
      <!-- üîπ RESUMEN DE COMPRA -->
      <!-- ====================================================== -->
      <aside class="summary" id="resumen">
        <h3>Subtotal (IVA incluido)</h3>
        <p class="price" id="subtotalResumen">$0</p>

        <h3>Gastos de Env√≠o</h3>
        <p class="price" id="envioResumen">$0</p>

        <hr />
        <div class="total">
          <span>Total:</span>
          <span id="totalResumen">$0</span>
        </div>

        <hr />
        <div id="resumen-detalles">
          <!-- Aqu√≠ se insertan los datos de identificaci√≥n, env√≠o y pago -->
        </div>
      </aside>
    </div>
  </main>

  <!-- ====================================================== -->
  <!-- üîπ SCRIPTS -->
  <!-- ====================================================== -->
  <script src="static/js/info-pedido.js"></script>
</body>
</html>
